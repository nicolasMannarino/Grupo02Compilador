include macros2.asm
include number.asm

.MODEL SMALL
.386
.STACK 200h

.DATA
NEW_LINE DB 0AH,0DH,'$'
CWprevio DW ?
_0 dd ?
a1 dd ?
a2 dd ?
a3 dd ?
l1 dd ?
l2 dd ?
l3 dd ?
r1 dd ?
p1 dd ?
J3 dd ?
k4 dd ?
var1 dd ?
var2 dd ?
var3 dd ?
str1 dd ?
str2 dd ?
_5 dd 5
_"hola" db "hola"
_1 dd 1
_4 dd 4
_3 dd 3
_2 dd 2
_10 dd 10
_6 dd 6
_33.50 dd 33.50
_588 dd 588
_100 dd 100
_32766 dd 32766
_-32767 dd -32767
_"Cadena correcta" db "Cadena correcta"
@i dd ?
_"Hello World" db "Hello World"
_"Homoplato" db "Homoplato"
_"plato" db "plato"
 dd ?

.CODE

MOV AX, @DATA
MOV DS, AX
FINIT

FILD _5
FSTP var1
FILD _5
FSTP var2
FILD _5
FSTP var3
getInteger a1

getInteger a2

displayString _"hola"

FILD a3
FILD _1
FXCH
FCOMP
FSTSW AX
SAHF
JNE SALTO1
DisplayInteger a1

getInteger a1

getInteger a1

FILD a2
FILD _4
FXCH
FCOMP
FSTSW AX
SAHF
JNE SALTO2
FSTP a1
JMP SALTO2
FILD _3
FSTP a1
END_IF
SALTO2
FILD _2
FSTP a1
END_IF
SALTO2
FILD a1
FILD a2
FXCH
FCOMP
FSTSW AX
SAHF
JA SALTO3
FILD a1
FILD _10
FXCH
FCOMP
FSTSW AX
SAHF
JE SALTO4
FILD _2
FSTP a1
FILD _2
FSTP a2
END_IF
SALTO4
FILD a1
FILD a2
FXCH
FCOMP
FSTSW AX
SAHF
JA SALTO5
FILD a1
FILD _10
FXCH
FCOMP
FSTSW AX
SAHF
JE SALTO6
FILD _2
FSTP a1
JMP SALTO6
FILD _2
FSTP a2
END_IF
SALTO6
FILD a1
FILD a2
FXCH
FCOMP
FSTSW AX
SAHF
JBE SALTO7
FILD a1
FILD _10
FXCH
FCOMP
FSTSW AX
SAHF
JE SALTO8
FILD _4
FSTP a1
END_IF
SALTO8
FILD a1
FILD a2
FXCH
FCOMP
FSTSW AX
SAHF
JBE SALTO9
FILD a1
FILD _10
FXCH
FCOMP
FSTSW AX
SAHF
JE SALTO10
FILD _4
FSTP a1
JMP SALTO10
FILD _2
FSTP a1
END_IF
SALTO10
FILD a1
FILD a2
FXCH
FCOMP
FSTSW AX
SAHF
JBE SALTO11
FILD _4
FSTP a1
END_IF
SALTO11
FILD a1
FILD a2
FXCH
FCOMP
FSTSW AX
SAHF
JA SALTO12
FILD _4
FSTP a1
JMP SALTO12
FILD _6
FSTP a1
END_IF
SALTO12
FLD J3
FLD k4
FXCH
FCOMP
FSTSW AX
SAHF
JA SALTO13
FLD k4
FSTP k4
FLD J3
FSTP J3
JMP SALTO13
FLD J3
FLD k4
FXCH
FCOMP
FSTSW AX
SAHF
JA SALTO14
FLD k4
FSTP k4
FLD J3
FSTP J3
JMP SALTO14
FLD J3
FLD k4
FXCH
FCOMP
FSTSW AX
SAHF
JA SALTO15
FILD a3
FILD _1
FXCH
FCOMP
FSTSW AX
SAHF
JNE SALTO16
FSTP p1
END_IF
SALTO16
FILD a2
FILD _588
FXCH
FCOMP
FSTSW AX
SAHF
JNE SALTO17
FILD _100
FSTP p1
END_IF
SALTO17
FLD k4
FSTP k4
FLD J3
FSTP J3
JMP SALTO17
FILD _32766
FSTP a1
FILD _-32767
FSTP a2
LEA EAX, 
MOV str2, EAX
FILD a1
FILD _10
FSTP a1
FILD a1
FILD _10
FDIV
FSTP a1
FSTP @i
timer1158:
FILD @i
FILD _5
FXCH
FCOMP
FSTSW AX
SAHF
JA SALTO18
displayString _"Hello World"

FILD @i
FILD a1
FADD
FSTP @i
JMP SALTO18
estaContenido1165:
FXCH
FCOMP
FSTSW AX
SAHF
JNE SALTO19
FILD _4
FSTP a1
END_IF
SALTO19
getInteger a1

displayString _"hola"


MOV AH, 1
INT 21h
MOV AX, 4C00h
INT 21h

END
